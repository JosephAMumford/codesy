{% extends "base.html" %}
{% load staticfiles %}

{% block description %}codesy is a pay-what-you-want market for the open source community where we can tip each other to fix important bugs.{% endblock %}

{% block jumbotron %}

   <div class="callout large primary">
      <div class="row column text-center">
         <h1>
            codesy.io
         </h1>
         <p>
            every day, <strong>millions</strong> of us coders work around bugs in open-source software.
         </p>
         <p>
            codesy is a <strong>pay-what-you-want</strong> market for the open source community where we can tip each other to fix important bugs.
         </p>
      </div>
   </div>


{% endblock %}

{% block content %}

<div class="row medium-8 large-7 columns">
<div class="blog-post">
         <h2>
            Get Started
         </h2>
        <div class="install-step small-4 columns">
                <h3>1. Install. <span class="glyphicon glyphicon-chevron-right"></span></h3>
                {% if browser == 'chrome' %}
                <p id="add-to-chrome">
                <img src="{% static "img/chrome.png" %}" width="32" height="32"/> <a id="chrome-install-button" class="btn btn-lg btn-success" onclick="chrome.webstore.install()" role="button">Add to Chrome</a>
                </p>
                {% elif browser == 'firefox' %}
                <p id="add-to-firefox">
                <img src="{% static "img/firefox.png" %}" width="32" height="32"/> <a class="btn btn-lg btn-success" href="codesy.xpi" role="button">Add to Firefox</a>
                </p>
                {% else %}
                <p id="unknown-browser">
                Unknown browser. The codesy widget currently only works with Firefox and Chrome. We want to add it to others soon. Want to help? <a href="https://github.com/codesy">Catch us on GitHub</a>.
                </p>
                {% endif %}


        </div>

        <div class="installed small-4 columns">

              <h3>1. Installed. <span class="glyphicon glyphicon-ok" aria-hidden="true"></span></h3>

        </div>

        <div class="installed small-4 columns">
            {% if request.user.is_authenticated %}
            <div id="signed-in" class="col-md-4">
                <h3>2. Signed in. <span class="glyphicon glyphicon-ok" aria-hidden="true"></span></h3>
                <p>Welcome <img src="{{ gravatar_url }}"/> {{ request.user.username }}</p>
                <input id="codesy_user_id" type="hidden" name="codesy_user_id" value="{{ request.user.id }}"/>

                <input id="api_token_pass" type="hidden" name="api_token_pass" value="{{ request.user.auth_token }}"/>
                <a href="/accounts/logout/">Sign out</a>
            </div>
            {% else %}
            <div id="sign-in-step" class="col-md-4">
                <div class="install-step">
                    <h2>2. <img width="32" height="32" src="https://raw.githubusercontent.com/github/media/master/octocats/blacktocat-32.png" /> <span class="glyphicon glyphicon-chevron-right"></span> Sign in.</h2>
                    Install to sign in.
                </div>
                <div class="installed" hidden="true">
                    <h3>2. <img width="32" height="32" src="https://raw.githubusercontent.com/github/media/master/octocats/blacktocat-32.png" /> <a href="/accounts/github/login/?process=login">Sign in.</a> <span class="glyphicon glyphicon-chevron-right"></span></h3>
                </div>
            </div>
            {% endif %}

        </div>
        <div class=" small-4 columns">

              {% include "includes/stripe_form.html" %}
        </div>

      </div>
   </div>



 
</div><!-- END BLOG POST -->
</div><!-- END ROW -->

{% endblock %}

{% block scripts %}
   {% if request.user.is_authenticated %}
      <script type="text/javascript" src="https://js.stripe.com/v2/"></script>
      <script src="{% static "js/home-app.js" %}" ></script>
   {% endif %}
{% endblock %}
